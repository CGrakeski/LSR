# Lamina增强提议 [关于语法糖] Lamina001(+2)
**标准规范**

**@azhz1107cat**

**拒绝**

**2025-8-16**

## 摘要

在Lamina持续发展的过程中，为进一步完善语言功能、提升使用便捷性与灵活性，现提议引入以下新语法特性。

## 议案七：高阶函数


### 类型标识：

```
: callable[_ReturnType, ArgumentsType]（_ReturnType为返回值类型，ArgumentsType为参数类型列表）
```
### 基本语法：
```
// 常规形式
do |arguments| {
    statements
};

// 简写形式
|argument| => statement
```
### 使用示例：
```
// 简写形式定义函数
var float_add: callable[float, [float,float]] = |a,b| => a+b

// 常规形式定义函数
var int_add: callable[int,[int,int]] =
do |a,b| {
    return a+b
}
```
### 其他可选方案：统一使用箭头函数语法
```
(arguments)=>{
    statements
};
```
## 议案八：装饰器

---
### 核心语法：
```
@function_name  // 装饰器函数
func name(arguments){
    statements
}
```
### 使用示例：
```
@pure  // 标记函数为纯函数（无副作用）
func add(a,b){
    return a+b
}
```
## 议案九：编译/解释器模式


### 语法标识：
```
#[pattern]（通过注解指定模式）
```
### 常见模式：

	•	#[breakpointer]（断点模式，用于调试）

	•	#[stricttype]（严格类型模式，强制类型检查）

### 使用示例：
```
print("start")
#[breakpointer]  // 启用断点模式
print("end")  // 调试模式下不会执行到该语句
```
## 议案十：内联Latex


### 类型标识：

```
: latex（用于存储Latex公式）
```
### 语法形式：
```
var name: latex = latex_formula  // 直接赋值Latex公式内容
```
### 示例：
```
var x: latex = 
\frac{-b \pm \sqrt{b^2 - 4ac}}{2a}  // 二次方程求根公式
```
## 议案十一：管道运算符


### 作用：
将左侧表达式的结果作为右侧函数的输入，实现链式操作。
### 示例：
```
var x = 100
var y: float = 
x |> sqrt |> pow |> sqrt |> float  // 依次执行开方、幂运算、开方，最终转为float类型
```
## 议案十二：模式匹配


### 核心语法：
```
when _var{  // _var为待匹配的变量
    pattern => statements  // 匹配模式及对应执行语句
}
```
### 规则：

	•	when语句的结果可赋值给变量

	•	若无break语句，默认执行所有匹配的情况

	•	不创建独立作用域

### 使用示例：
```
when my_num{
    is int => print("it is an int");
    is r   => print("it is a rational number");
    is irr => print("it is an irrational number");
    100    => print("its value is 100");
    200    => print("its value is 200");
     _     => print("Can't macth the var"); // 缺省语句
}

// 当my_num = 100时，输出：it is an int its value is 100
```

## 议案十四：小数截断


### 作用：
快速截断小数位数，简化精度控制。
### 使用示例：
```
var x = 3.14159~2f;  // 保留2位小数，结果为3.14
```
## 议案十五：自动分号系统


引入类似JavaScript的自动分号插入机制，减少手动输入分号的冗余操作，提升编码效率。