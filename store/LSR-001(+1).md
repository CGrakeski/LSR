# Lamina增强提议 [关于类型系统] Lamina001(+1)
**标准规范**

**@azhz1107cat**

**拒绝**

**2025-8-16**

## 摘要


在Lamina持续发展的过程中，为进一步完善语言功能、提升使用便捷性与灵活性，现提议引入以下新语法特性。
## 议案一：类型注释


### 应用场景：
需明确指定变量类型以实现强类型约束时。
### 核心语法：
```
var name: type = expression;
```
使用示例：
```
var a: int = 100;  // 明确变量a为int类型
```
### 其他可选方案：
```
var name = expression as type;  // 以as关键字指定类型
```

```
var name = expression is type;  // 以is关键字指定类型
```
## 议案二：泛型支持


### 应用场景：
需编写适用于多种类型的通用代码（如通用函数）时。
### 核心语法：
```
func add[T](a:T, b:T) -> T{
    return a+b
}
```
### 其他可选方案：
```
template[T]  // 以template关键字声明泛型
func add(a:T, b:T) -> T{
    return a+b
}
```
## 议案三：类型注释类型


**支持的基础类型注释包括：**

	: int（整数）

	: float（浮点数）

	: r（有理数）

	: irr（无理数）

	: complex（复数，未来可扩展）

	: bool（布尔值）

	: str（字符串）

	: arr\[_SubType\]（数组，_SubType为元素类型）

## 议案四：待添加类型——表/点阵


### 类型标识：: 
```
lattice[_SubType]（_SubType为元素类型）
```
### 使用示例：
```
var my_lattice: lattice = [
1,2,3,4,5,6,7;
8,9,10,11,12,13,14;
];
```

```
my_lattice[1,2] // 取值为2（索引从1开始）
my_lattice.nearby(3,"down") // 取值为10（获取3下方的元素）
my_lattice.nearby(3,"left") // 取值为2（获取3左侧的元素）
```
### 其他可选方案：

```
: table[_SubType]（以table作为类型标识）
```

## 议案五：待添加类型——映射


### 类型标识：

```
: map[_KeyType, _ValueType]（_KeyType为键类型，_ValueType为值类型）
```
### 使用示例：
```
var class_mate: map[str, int] = {
 "Tom": 17,
 "Mike": 18
};
```

```
class_mate["Tom"] // 取值为17（通过键获取值）
class_mate[:1] // 取值为"Tom"（获取第1个键）
class_mate[::1] // 取值为17（获取第1个值）
```
### 其他可选方案：

```
: dict[_KeyType, _ValueType]（以dict作为类型标识）
```

## 议案六：结构体


### 核心语法：
```
struct Name{
    item_name: type  // 结构体成员及类型定义
};
```
### 使用示例：
```
// 命名结构体
struct Dog{
    weight: int,
    height: int,
    width: int,
    master: str
};

// 匿名结构体
var x = {
  weight = 100,
  master = "Tom"
};

x.weight // 访问x的weight字段:100
```
### 其它结构图访问成员方案
```
x::weight
x->weight
```

## 综上所述
**未来Lamina支持的基础类型注释包括：(可以使用typeof函数使用)**

1. int（整数）

2. float（浮点数）

3. r（有理数）

4. irr（无理数）

5.  complex（复数，未来可扩展）

6. bool（布尔值）

7. str（字符串）

8. arr\[_SubType\]（数组，_SubType为元素类型）

9. lattice 点阵

10. map 映射

11. callable 函数

12. struct 结构体